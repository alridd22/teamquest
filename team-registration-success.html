<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover"/>
  <meta name="theme-color" content="#2A1F18">
  <title>Crew Registered - The Treasure Quest</title>

  <!-- Handlee font -->
  <link href="https://fonts.googleapis.com/css2?family=Handlee&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg:url("/TQ%20Web%20background-100.jpg"); /* success page background */
      --bg-shift:-28px;      /* move the background UP a bit so the dotted line & X sit higher; make more negative to move further up */
      --ink:#2E2114;
      --ink-soft:#6A5A47;
      --parchment:#F7EED8;
      --parchment-2:#F3E6CF;
      --gold:#F0C433;
      --green:#34A853;
      --radius-card:18px;
      --shadow-card:0 12px 28px rgba(0,0,0,.25);
    }

    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:"Handlee", ui-rounded, "Segoe UI", Roboto, Arial, sans-serif;
      color:var(--ink);
      /* Shift background upward so the dotted path & X are visible higher on the page */
      background-image: var(--bg);
      background-repeat: no-repeat;
      background-size: cover;
      background-position: center var(--bg-shift);
      min-height:100vh;
      display:flex; flex-direction:column; align-items:center;
      padding:16px;
      -webkit-font-smoothing:antialiased; text-rendering:optimizeLegibility;
    }

    /* Logo hero (kept high) */
    .hero{ margin-top:10px; text-align:center; }
    .brand-logo{
      width:220px; max-width:65vw; height:auto;
      display:block; margin:0 auto 12px;
      filter:drop-shadow(0 2px 0 rgba(0,0,0,.25)) drop-shadow(0 10px 24px rgba(0,0,0,.35));
    }

    /* Parchment card */
    .card{
      background:var(--parchment);
      border-radius:var(--radius-card);
      box-shadow:var(--shadow-card);
      padding:18px 16px;
      max-width:460px; width:100%;
      margin-top:8px; text-align:center;
      border:1px solid rgba(0,0,0,.06);
    }

    /* Status pill ABOVE the team name */
    .status-pill{
      display:inline-flex; align-items:center; justify-content:center; gap:6px;
      background:#E6F4EA; color:var(--green);
      border:2px solid var(--green);
      border-radius:999px;
      padding:6px 14px;
      font-weight:800;
      margin:0 0 12px;
    }
    .status-pill svg{ width:16px; height:16px; fill:var(--green); }

    /* Team name – big + bold */
    .crew-name{
      display:inline-block;
      margin:0 0 12px;
      padding:12px 18px;
      border:3px solid var(--gold);
      border-radius:14px;
      background:var(--parchment-2);
      color:var(--ink);
      font-weight:900;
      font-size:1.45rem;
      line-height:1.1;
      min-width:60%;
    }

    /* What's next – left aligned body text */
    .info{
      background:var(--parchment-2);
      border-radius:12px;
      padding:16px 14px;
      color:var(--ink);
      text-align:left;               /* ← left align per feedback */
    }
    .info-title{
      font-size:1.45rem;             /* bumped for readability */
      font-weight:900;
      margin:0 0 6px;
      color:var(--ink);
      text-align:left;
    }
    .info p{
      margin:0;
      font-size:1.15rem;
      line-height:1.5;
    }

    @media (min-width:480px){
      :root{ --bg-shift:-34px; }     /* nudge a bit more on larger phones if desired */
    }
  </style>
</head>
<body>
  <header class="hero">
    <img src="/Team%20Quest%20Logo-01.png" alt="TeamQuest" class="brand-logo" width="400" height="300" decoding="async" onerror="this.remove()">
  </header>

  <main class="card">
    <!-- Moved above team name -->
    <div class="status-pill" aria-live="polite">
      <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M20.285 6.709l-11.025 11.025-5.546-5.546 1.414-1.414 4.132 4.132 9.611-9.611z"/></svg>
      Crew Registered
    </div>

    <div class="crew-name" id="crew-name-display">Loading…</div>

    <div class="info" aria-labelledby="next-title">
      <div id="next-title" class="info-title">What’s next?</div>
      <p>Once the organiser presses <strong>START</strong> on their admin panel, the fun begins! Get ready to open your pack and see where your adventure takes you.</p>
    </div>
  </main>

  <script>
    // Crew name from URL or localStorage (keeps #crew-name-display)
    const qs = new URLSearchParams(location.search);
    const teamFromQS  = qs.get('team');
    const codeFromQS  = qs.get('code');
    const teamNameLS  = localStorage.getItem('tq_team_name');
    document.getElementById('crew-name-display').textContent =
      teamFromQS || teamNameLS || (codeFromQS ? `Crew ${codeFromQS.toUpperCase()}` : 'Your Crew');
  </script>
</body>
</html>
